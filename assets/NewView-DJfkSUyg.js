import{c as l,o,a as t,t as r,m as N,r as C,l as S,h as B,u as M,d as w,F as L,p as $,q as T,s as F}from"./index-DPHdfVR8.js";import{_ as b,B as v}from"./Button-D4FR88is.js";const D="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='3'%20y='6'%20width='18'%20height='15'%20rx='2'%20stroke='%23082C60'/%3e%3cpath%20d='M3%2011L21%2011'%20stroke='%23082C60'%20stroke-linecap='round'/%3e%3cpath%20d='M9%2016H15'%20stroke='%23082C60'%20stroke-linecap='round'/%3e%3cpath%20d='M8%203L8%207'%20stroke='%23082C60'%20stroke-linecap='round'/%3e%3cpath%20d='M16%203L16%207'%20stroke='%23082C60'%20stroke-linecap='round'/%3e%3c/svg%3e",O={class:"flex-row alitems-center",style:{cursor:"pointer",gap:"24px"}},V=["src"],z={class:"flex-col medium-padding new-content",style:{gap:"24px",width:"200px"}},J={style:{"font-weight":"700","font-size":"18px","inline-size":"24px",width:"100%"}},P={__name:"NewMiniCard",props:{title:String,created_at:String,icon:String},setup(u){const s=u;return(_,c)=>(o(),l("div",O,[t("img",{src:s.icon,class:"news-mini-img"},null,8,V),t("div",z,[t("h3",J,r(s.title),1),t("h4",null,r(s.created_at),1)])]))}},R=b(P,[["__scopeId","data-v-491a717f"]]),j={class:"flex-col alitems-center",style:{width:"100%","margin-top":"120px","margin-bottom":"150px"}},q={class:"flex-row container-width"},E={key:0,class:"flex-col large-gap",style:{flex:"3"}},H={class:"flex-row alitems-center",style:{gap:"8px"}},A=["src"],G=["src"],K={class:"flex-row"},Q={key:1,style:{"margin-top":"40vh"}},U={class:"flex-col desktop-only",style:{gap:"20px",flex:"1","margin-left":"20px"}},Z={__name:"NewView",setup(u){const s=N(),_=T();let c=parseInt(s.params.id,10);const n=C(null),g=JSON.parse(localStorage.getItem("news")),h=()=>{g&&(n.value=g.find(e=>e.id==c),n.value)};S(()=>{h()}),B(()=>s.params.id,e=>{c=e,h()});const m=()=>JSON.parse(localStorage.getItem("news")||"[]");function k(){let e=m();return e=e.filter(a=>a.id!==parseInt(s.params.id,10)),e.length<4?e:e.slice(-4)}const x=e=>{const a=m(),i=parseInt(s.params.id,10),d=a.findIndex(p=>p.id===i)+e;if(d>=0&&d<a.length){const p=a[d];_.push({name:"new",params:{id:p.id}})}return!1},I=()=>{x(-1)},y=()=>{x(1)},f=e=>e.length>0?`http://localhost:8000${e[0].url}`:"";return(e,a)=>(o(),l("div",j,[t("div",q,[n.value?(o(),l("div",E,[t("h1",null,r(n.value?.title),1),t("div",H,[t("img",{src:M(D)},null,8,A),t("h4",null,r(n.value?.created_at.split("T")[0]),1)]),t("img",{src:f(n.value?.images),style:{"max-height":"450px",width:"100%","object-fit":"cover","border-radius":"20px"}},null,8,G),t("h4",null,r(n.value?.text),1),t("div",K,[w(v,{title:"Предыдущая статья",onClick:I}),w(v,{title:"Следующая статья",style:{"margin-left":"auto"},onClick:y})])])):(o(),l("div",Q," Новость не найдена, вернитесь на гравную страницу! "+r(n.value),1)),t("div",U,[a[0]||(a[0]=t("h2",null,"Другие статьи",-1)),(o(!0),l(L,null,$(k(),i=>(o(),F(R,{title:i.title,icon:f(i.images),created_at:i.created_at.split("T")[0]},null,8,["title","icon","created_at"]))),256))])])]))}};export{Z as default};
